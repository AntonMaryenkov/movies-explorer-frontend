{"version":3,"sources":["components/landing/Preloader/Preloader.js","components/landing/Form/Form.js","images/logo.svg","components/landing/Form/InputAuth/InputAuth.js","utils/Validation/Validation.js","components/landing/Form/AuthForm/Register/Register.js","images/navigation-icon.svg","components/landing/Navigation/Navigation.js","components/landing/Header/Header.js","components/landing/Footer/Footer.js","images/promo-logo.png","components/landing/Main/Promo/Promo.js","components/landing/Main/Title/Title.js","components/landing/Main/AboutProject/AboutProject.js","components/landing/Main/Techs/Techs.js","images/aboutMePhoto.jpg","components/landing/Main/AboutMe/AboutMe.js","components/landing/Main/Portfolio/Portfolio.js","components/landing/Main/Main.js","components/landing/Movies/SearchForm/SearchForm.js","components/landing/Movies/MoviesCard/MoviesCard.js","components/landing/Movies/MoviesCardList/MoviesCardList.js","utils/constants.js","utils/helpers.js","components/landing/Movies/Movies.js","utils/MoviesApi.js","components/landing/SavedMovies/SavedMovies.js","contexts/CurrentUser.js","components/landing/Form/inputProfile/inputProfile.js","components/landing/Form/Profile/Profile.js","components/landing/ProtectedRoute/ProtectedRoute.js","components/landing/Form/AuthForm/Login/Login.js","components/landing/NotFound/NotFound.js","utils/MainApi.js","components/App/App.js","index.js"],"names":["Preloader","className","Form","props","formTitle","loggedIn","onSubmit","e","preventDefault","preloader","title","children","formMessage","showButton","disabled","buttonName","linkText","to","linkRoute","linkName","readOnly","onClick","setReadOnly","onSignOut","buttonNameSave","InputAuth","name","isDisabled","onFocus","onChange","value","type","minLength","maxLength","placeholder","required","isDirty","valid","isEmpty","messageError","minLengthError","maxLengthError","emailError","useInput","initialValue","validations","React","useState","setValues","setEmpty","setMinLengthError","setMaxLengthError","setEmailError","inputValid","setInputValid","setMessageError","useEffect","undefined","test","String","toLowerCase","length","useValidation","setIsDirty","target","Register","setPreloader","setShowButton","setFormMessage","email","password","src","logo","alt","onRegister","catch","Navigation","popupIsOpen","setPopupIsOpen","closePopup","activeClassName","profileIcon","exact","Header","header","Footer","href","rel","Promo","Title","AboutProject","id","Techs","AboutMe","myPhoto","Portfolio","Main","SearchForm","searchMessage","setSearchMessage","searchString","searchSubmit","shortFilm","setShortFilm","MoviesCard","cardLike","isLiked","onClickImg","pageSavedMovies","window","open","trailer","trailerLink","image","url","nameRU","deleteMovie","movieId","saveMovie","min","hours","Math","trunc","minutes","getTimeFromMins","duration","MoviesCardList","moviesCardList","savedMovies","movies","map","itemProps","_id","showButtons","nextPageMovies","MOVIES_LOCAL_KEY","MOVIES_LOCAL_SEARCH","SAVEDMOVIES_LOCAL_SEARCH","BASE_API_URL","process","BASE_URL","filterMovies","data","filter","el","includes","forEach","item","some","savedMovie","Movies","moviesList","setMoviesList","currentPage","setCurrentPage","startCountMovies","setStartCountMovies","countPerPage","setCountPerPage","setSearchString","setShowButtons","toggleShowButton","addCards","innerWidth","timerId","updateSize","setTimeout","addEventListener","localStorage","getItem","constants","clearTimeout","removeEventListener","setItem","fetch","method","headers","then","res","ok","json","Promise","reject","status","JSON","stringify","setMovies","err","console","log","finally","slice","SavedMovies","CurrentUser","createContext","inputProfile","Profile","currentUser","useContext","changeValue","setChangeValue","Auth","addUserInfo","setCurrentUser","ProtectedRoute","Component","component","path","Login","onLogin","NotFound","token","history","useHistory","goBack","setToken","register","body","authorize","getContent","getMovies","postMovies","country","director","year","description","nameEN","thumbnail","deleteMovies","withRouter","setSavedMovies","setLoggedIn","isAuthCheck","setAuthCheck","jwt","MainApi","push","idDel","movie","resolve","parse","Provider","newMovie","formats","newMovies","removeItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.616a7621.chunk.js","sourcesContent":["import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n    return (\n        <div className=\"preloader\">\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","import React from 'react';\nimport './Form.css';\nimport { Link } from 'react-router-dom';\nimport Preloader from '../../landing/Preloader/Preloader';\n\nfunction Form(props) {\n\n  const formTitle = (\n    `form__title ${props.loggedIn ? 'form__title_profile' : ''}`\n  );\n\n  function setReadOnly() {\n    props.setReadOnly(false)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onSubmit();\n  };\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit}>\n      {props.preloader &&\n        <Preloader />}\n      <div>\n        <h6 className={formTitle}>{props.title}</h6>\n        {props.children}\n      </div>\n      <div className=\"form__nav\">\n        {!props.loggedIn &&\n          <div>\n            {props.formMessage &&\n              <span className=\"form__message\">{props.formMessage}</span>\n            }\n            {!props.showButton &&\n              <button disabled className=\"form__button\">{props.buttonName}</button>\n            }\n            {props.showButton &&\n              <button className=\"form__button form__button_active\">{props.buttonName}</button>\n            }\n            <div className=\"form__container_link\">\n              <p className=\"form__link-text\">{props.linkText}</p>\n              <Link to={props.linkRoute} className=\"form__link\">{props.linkName}</Link>\n            </div>\n          </div>\n        }\n        {props.loggedIn &&\n          <div className=\"form__nav-profile\">\n            {props.formMessage &&\n              <span className=\"form__message\">{props.formMessage}</span>\n            }\n            {props.readOnly &&\n              <div className=\"form__nav-edit\">\n                <button className=\"form__button-profile\" onClick={setReadOnly}>{props.buttonName}</button>\n                <div className=\"form__container_link\">\n                  <button className=\"form__button-profile form__link-profile\" onClick={props.onSignOut}>{props.linkName}</button>\n                </div>\n              </div>\n            }\n            {props.showButton && !props.readOnly &&\n              <button className=\"form__button form__button_active\">{props.buttonNameSave}</button>\n            }\n            {!props.showButton && !props.readOnly &&\n              <button disabled className=\"form__button\">{props.buttonNameSave}</button>\n            }\n          </div>\n        }\n      </div>\n    </form>\n  );\n}\n\nexport default Form;\n","export default __webpack_public_path__ + \"static/media/logo.047033fe.svg\";","import React from 'react';\nimport './InputAuth.css';\n\nfunction InputAuth(props) {\n\n  return (\n    <label className=\"input-auth__field\">\n      <h6 className=\"input-auth__name\">{props.name}</h6>\n      <input disabled={props.isDisabled} onFocus={props.onFocus} className=\"input-auth__input\" onChange={props.onChange} value={props.value} type={props.type} minLength={props.minLength} maxLength={props.maxLength} placeholder={props.placeholder} required></input>\n      <span className=\"input-auth__error\">\n        {props.isDirty && props.valid.isEmpty && props.valid.messageError}\n        {!props.valid.isEmpty && props.valid.minLengthError && props.valid.messageError}\n        {!props.valid.isEmpty && props.valid.maxLengthError && props.valid.messageError}\n        {!props.valid.isEmpty && props.valid.emailError && props.valid.messageError}\n      </span>\n    </label>\n  );\n}\n\nexport default InputAuth;\n","import React, { useEffect } from 'react';\n\nexport const useValidation = (value, validations) => {\n  const [isEmpty, setEmpty] = React.useState(true);\n  const [minLengthError, setMinLengthError] = React.useState(false);\n  const [maxLengthError, setMaxLengthError] = React.useState(false);\n  const [emailError, setEmailError] = React.useState(false);\n  const [inputValid, setInputValid] = React.useState(false);\n  const [messageError, setMessageError] = React.useState('');\n\n  // useEffect(() => {\n  //   for (const validation in validations) {\n  //     switch (validation) {\n  //       case 'minLengthError':\n  //         value.length < validations[validation] ? setMinLengthError(true) : setMinLengthError(false);\n  //         setMessageError(`Минимальное количество символов - ${validations[validation]}`);\n  //         break;\n  //       case 'maxLengthError':\n  //         value.length >= validations[validation] ? setMaxLengthError(true) : setMaxLengthError(false);\n  //         setMessageError(`Максимальное количество символов - ${validations[validation]}`);\n  //         break;\n  //       case 'isEmpty':\n  //         value ? setEmpty(false) : setEmpty(true);\n  //         // setMessageError('Обязательное поле');\n  //         break;\n  //       case 'emailError':\n  //         const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  //         re.test(String(value).toLowerCase()) ? setEmailError(false) : setEmailError(true);\n  //         setMessageError('Неккоректный email');\n  //         break;\n  //       // no default\n  //     };\n  //   }\n  // }, [value])\n\n  useEffect(() => {\n    if (validations.emailError !== undefined) {\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      re.test(String(value).toLowerCase()) ? setEmailError(false) : setEmailError(true);\n      setMessageError('Неккоректный email');\n    }\n    if (value.length === 0) {\n      setEmpty(true);\n      setMessageError('Обязательное поле');\n    } else {\n      setEmpty(false);\n    };\n    if (value.length !== 0 && value.length < validations.minLengthError) {\n      setMinLengthError(true);\n      setMessageError(`Минимальное количество символов - ${validations.minLengthError}`);\n    } else {\n      setMinLengthError(false);\n    };\n    if (value.length >= validations.maxLengthError) {\n      setMaxLengthError(true);\n      setMessageError(`Максимальное количество символов - ${validations.maxLengthError}`);\n    } else {\n      setMaxLengthError(false);\n    };\n  }, [value])\n\n  useEffect(() => {\n    if (isEmpty || minLengthError || maxLengthError || emailError) {\n      setInputValid(true);\n    } else {\n      setInputValid(false);\n    }\n  }, [isEmpty, minLengthError, maxLengthError, emailError])\n\n  return { messageError, isEmpty, minLengthError, maxLengthError, emailError, inputValid };\n};\n\nexport const useInput = (initialValue, validations) => {\n  const [value, setValues] = React.useState(initialValue);\n  const valid = useValidation(value, validations);\n  const [isDirty, setIsDirty] = React.useState(false);\n  useEffect(() => { setValues(initialValue)}, [initialValue] )\n  const onChange = (e) => {\n    setValues(e.target.value);\n  }\n\n  const onFocus = () => {\n    setIsDirty(true);\n  }\n\n  return { value, isDirty, onChange, onFocus, ...valid };\n};\n","import React, { useEffect } from 'react';\nimport '../AuthForm.css';\nimport Form from '../../Form';\nimport logo from '../../../../../images/logo.svg';\nimport InputAuth from '../../InputAuth/InputAuth';\nimport Preloader from '../../../Preloader/Preloader';\nimport { useInput } from '../../../../../utils/Validation/Validation';\n\nfunction Register(props) {\n  const [preloader, setPreloader] = React.useState(false);\n  const [showButton, setShowButton] = React.useState(false);\n  const [formMessage, setFormMessage] = React.useState('');\n\n  const name = useInput('', ({ isEmpty: true, minLengthError: 2, maxLengthError: 30 }));\n  const email = useInput('', ({ isEmpty: true, emailError: false }));\n  const password = useInput('', ({ isEmpty: true, minLengthError: 8 }));\n\n  function handleSubmit() {\n    setPreloader(true);\n    setShowButton(false);\n    props.onRegister(name.value, email.value, password.value)\n      .catch(() => {\n        setFormMessage('Неверные данные для регистрации. Попробуйте ещё.');\n        setPreloader(false);\n        setShowButton(true);\n      })\n  };\n\n  useEffect(() => {\n    if (!email.inputValid && !password.inputValid && !name.inputValid) {\n      setShowButton(true);\n    } else {\n      setShowButton(false);\n    }\n  }, [email.inputValid, password.inputValid, name.inputValid]);\n\n  return (\n    <div className=\"auth\">\n      <div className=\"auth__form-container\">\n        <img className=\"form__logo\" src={logo} alt=\"логотип\"></img>\n        <Form\n          title=\"Добро пожаловать!\"\n          buttonName=\"Зарегистрироваться\"\n          linkText=\"Уже зарегистрированы?\"\n          linkName=\"Войти\"\n          linkRoute=\"/signin\"\n          onSubmit={handleSubmit}\n          showButton={showButton}\n          preloader={preloader}\n          formMessage={formMessage}>\n          <InputAuth\n            name=\"name\"\n            minLength=\"2\"\n            maxLength=\"30\"\n            placeholder=\"Имя\"\n            onChange={name.onChange}\n            onFocus={name.onFocus}\n            isDirty={name.isDirty}\n            value={name.value}\n            valid={name}\n            isDisabled={preloader} required />\n          <InputAuth\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"Email\"\n            onChange={email.onChange}\n            onFocus={email.onFocus}\n            isDirty={email.isDirty}\n            value={email.value}\n            valid={email}\n            isDisabled={preloader} required />\n          <InputAuth\n            name=\"password\"\n            type=\"password\"\n            minLength=\"8\"\n            placeholder=\"Пароль\"\n            onChange={password.onChange}\n            onFocus={password.onFocus}\n            isDirty={password.isDirty}\n            value={password.value}\n            valid={password}\n            isDisabled={preloader} required />\n        </Form>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/navigation-icon.593c6330.svg\";","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Navigation.css';\nimport profileIcon from '../../../images/navigation-icon.svg'\n\nfunction Navigation(props) {\n  const [popupIsOpen, setPopupIsOpen] = React.useState(false)\n\n  function openPopup() {\n    setPopupIsOpen(true);\n  }\n\n  function closePopup() {\n    setPopupIsOpen(false);\n  }\n\n  return (\n    <div>\n      <div className=\"navigation__container\">\n        {!props.loggedIn &&\n          <div className=\"navigation\">\n            <NavLink to=\"/signup\" className=\"navigation__button navigation__button_reg\">Регистрация</NavLink>\n            <NavLink to=\"/signin\" className=\"navigation__button navigation__button_log\">Войти</NavLink>\n          </div>}\n        {props.loggedIn &&\n          <div className=\"navigation\">\n            <NavLink to=\"/movies\" className=\"navigation__button navigation__button-logged\" activeClassName=\"navigation__button_active\">Фильмы</NavLink>\n            <NavLink to=\"/saved-movies\" className=\"navigation__button navigation__button-logged\" activeClassName=\"navigation__button_active\">Сохранённые фильмы</NavLink>\n            <NavLink to=\"/profile\" className=\"navigation__button navigation__button-profile\">\n              <img className=\"navigation__profile-icon\" src={profileIcon} alt=\"иконка-человек\"></img>\n              <p className=\"navigation__button-profile_text\">Аккаунт</p>\n            </NavLink>\n          </div>}\n      </div>\n      {props.loggedIn &&\n        <button className=\"navigation__icon\" type=\"button\" onClick={openPopup}></button>}\n      {popupIsOpen &&\n        <div className=\"navigation__popup-overlay\">\n          <div className=\"navigation__popup\">\n            <button className=\"navigation__close-icon\" type=\"button\" onClick={closePopup}></button>\n            <div className=\"navigation__popup-container\">\n              <NavLink exact to=\"/\" className=\"navigation__button navigation__button-logged navigation__button-logged_popup\" activeClassName=\"navigation__button-popup_active\" onClick={closePopup}>Главная</NavLink>\n              <NavLink to=\"/movies\" className=\"navigation__button navigation__button-logged navigation__button-logged_popup\" activeClassName=\"navigation__button-popup_active\" onClick={closePopup}>Фильмы</NavLink>\n              <NavLink to=\"/saved-movies\" className=\"navigation__button navigation__button-logged navigation__button-logged_popup\" activeClassName=\"navigation__button-popup_active\" onClick={closePopup}>Сохранённые фильмы</NavLink>\n            </div>\n            <NavLink to=\"/profile\" className=\"navigation__button navigation__button-profile navigation__button-profile_popup\" onClick={closePopup}>\n              <img className=\"navigation__profile-icon\" src={profileIcon} alt=\"иконка-человек\"></img>\n              <p className=\"navigation__button-profile_text\">Аккаунт</p>\n            </NavLink>\n          </div>\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default Navigation;\n","import React from 'react';\nimport logo from '../../../images/logo.svg';\nimport Navigation from '../Navigation/Navigation';\nimport './Header.css';\n\nfunction Header(props) {\n    const header = (\n    `header ${props.loggedIn ? 'header_logged' : ''}`\n  );\n\n  return (\n    <header className={header}>\n      <div className=\"header__container\">\n        <img className=\"header__logo\" src={logo} alt=\"Логотип сайта\" />\n        <Navigation loggedIn={props.loggedIn}/>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport './Footer.css';\n\nfunction Footer(props) {\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__promo-text\">Учебный проект Яндекс.Практикум х BeatFilm.</p>\n      <div className=\"footer__container\">\n        <p className=\"footer__copyright\">&copy; 2020</p>\n        <ul className=\"footer__links\">\n          <li><a className=\"footer__link\" href=\"https://praktikum.yandex.ru/\" target=\"_blank\" rel=\"noreferrer\">Яндекс.Практикум</a></li>\n          <li><a className=\"footer__link\" href=\"https://github.com/AntonMaryenkov\" target=\"_blank\" rel=\"noreferrer\">Github</a></li>\n          <li><a className=\"footer__link\" href=\"https://www.facebook.com/viasacro\" target=\"_blank\" rel=\"noreferrer\">Facebook</a></li>\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/promo-logo.5a35c432.png\";","import React from 'react';\nimport logo from '../../../../images/promo-logo.png';\nimport './Promo.css';\n\nfunction Promo(props) {\n\n  return (\n    <div className=\"promo\">\n      <div className=\"promo__info-container\">\n        <h1 className=\"promo__title\">Учебный проект студента факультета Веб&#8209;разработки.</h1>\n        <p className=\"promo__subtitle\">Листайте ниже, чтобы узнать больше про этот проект и его создателя.</p>\n        <a className=\"promo__link\" href=\"#about-project\">Узнать больше</a>\n      </div>\n      <img className=\"promo__logo\" src={logo} alt=\"\"></img>\n    </div>\n  );\n}\n\nexport default Promo;\n","import React from 'react';\nimport './Title.css'\n\nfunction Title(props) {\n  \n  return (\n    <h2 className=\"title\">{props.title}</h2>\n  );\n}\n\nexport default Title;\n","import React from 'react';\nimport Title from '../Title/Title';\nimport './AboutProject.css';\n\nfunction AboutProject(props) {\n\n  return (\n    <div id=\"about-project\" className=\"about-project\">\n      <Title title=\"О проекте\" />\n      <div className=\"about-project__info\">\n        <div className=\"about-project__info_block\">\n          <h3 className=\"about-project__info_title\">Дипломный проект включал 5 этапов</h3>\n          <p className=\"about-project__info_text\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n        </div>\n        <div className=\"about-project__info_block\">\n          <h3 className=\"about-project__info_title\">На выполнение диплома ушло 5 недель</h3>\n          <p className=\"about-project__info_text\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n        </div>\n      </div>\n      <div className=\"about-project__time\">\n        <div className=\"about-project__time_column about-project__time_column-back\">\n          <p className=\"about-project__time-text about-project__time-text_back\">1 неделя</p>\n          <p className=\"about-project__tech about-project__tech_back\">Back-end</p>\n        </div>\n        <div className=\"about-project__time_column about-project__time_column-front\">\n          <p className=\"about-project__time-text about-project__time-text_front\">4 недели</p>\n          <p className=\"about-project__tech about-project__tech_front\">Front-end</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AboutProject;\n","import React from 'react';\nimport './Techs.css';\nimport Title from \"../Title/Title\";\n\nfunction Techs(props) {\n\n  return (\n    <div className=\"techs\">\n      <Title title=\"Технологии\" />\n      <h4 className=\"techs__title\">7 технологий</h4>\n      <p className=\"techs__subtitle\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n      <div className=\"techs__list\">\n        <div className=\"techs__element\">HTML</div>\n        <div className=\"techs__element\">CSS</div>\n        <div className=\"techs__element\">JS</div>\n        <div className=\"techs__element\">React</div>\n        <div className=\"techs__element\">Git</div>\n        <div className=\"techs__element\">Express.js</div>\n        <div className=\"techs__element\">mongoDB</div>\n      </div>\n    </div>\n  );\n}\n\nexport default Techs;\n","export default __webpack_public_path__ + \"static/media/aboutMePhoto.4f328356.jpg\";","import React from 'react';\nimport Title from '../Title/Title';\nimport './AboutMe.css';\nimport myPhoto from '../../../../images/aboutMePhoto.jpg';\n\nfunction AboutMe(props) {\n\n  return (\n    <div className=\"about-me\">\n      <Title title=\"Студент\" />\n      <div className=\"about-me__container\">\n        <div className=\"about-me__info\">\n          <h5 className=\"about-me__title\">Антон</h5>\n          <p className=\"about-me__subtitle\">Фронтенд-разработчик, 30 лет</p>\n          <p className=\"about-me__text\">Я родился и живу в Саратове, закончил факультет экономики СГУ. У меня есть жена и дочь. Я люблю слушать музыку, а ещё увлекаюсь бегом. Недавно начал кодить. С 2015 года работал в компании «СКБ Контур». После того, как прошёл курс по веб-разработке, начал заниматься фриланс-заказами и ушёл с постоянной работы.</p>\n          <ul className=\"about-me__links\">\n            <li><a className=\"about-me__link\" href=\"https://github.com/AntonMaryenkov\" target=\"_blank\" rel=\"noreferrer\">Github</a></li>\n            <li><a className=\"about-me__link\" href=\"https://www.facebook.com/viasacro\" target=\"_blank\" rel=\"noreferrer\">Facebook</a></li>\n          </ul>\n        </div>\n        <img className=\"about-me__photo\" src={myPhoto} alt=\"моя фотография\"></img>\n      </div>\n    </div>\n  );\n}\n\nexport default AboutMe;\n","import React from 'react';\nimport './Portfolio.css';\n\nfunction Portfolio(props) {\n\n  return (\n    <div className=\"portfolio\">\n      <h6 className=\"portfolio__title\">Портфолио</h6>\n      <ul className=\"portfolio__links\">\n        <li className=\"portfolio__link-element\">\n          <a className=\"portfolio__link\" href=\"https://github.com/AntonMaryenkov/first-project\" target=\"_blank\" rel=\"noreferrer\">\n            <p className=\"portfolio__link_text\">Статичный сайт</p>\n            <div className=\"portfolio__link_icon\"></div>\n          </a>\n        </li>\n        <li className=\"portfolio__link-element\">\n          <a className=\"portfolio__link\" href=\"https://antonmaryenkov.github.io/russian-travel\" target=\"_blank\" rel=\"noreferrer\">\n            <p className=\"portfolio__link_text\">Адаптивный сайт</p>\n            <div className=\"portfolio__link_icon\"></div>\n          </a>\n        </li>\n        <li className=\"portfolio__link-element\">\n          <a className=\"portfolio__link\" href=\"https://mesto.antonmaryenkov.students.nomoredomains.icu\" target=\"_blank\" rel=\"noreferrer\">\n            <p className=\"portfolio__link_text\">Одностраничное приложение</p>\n            <div className=\"portfolio__link_icon\"></div>\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nexport default Portfolio;\n","import React from 'react';\nimport Promo from './Promo/Promo';\nimport AboutProject from './AboutProject/AboutProject';\nimport Techs from './Techs/Techs';\nimport AboutMe from './AboutMe/AboutMe';\nimport Portfolio from './Portfolio/Portfolio';\nimport './Main.css';\n\nfunction Main(props) {\n\n  return (\n    <main className=\"main\">\n      <Promo />\n      <AboutProject />\n      <Techs />\n      <AboutMe />\n      <Portfolio />\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport './SearchForm.css';\nimport { useInput } from '../../../../utils/Validation/Validation';\n\n\nfunction SearchForm(props) {\n  const [showButton, setShowButton] = React.useState(false);\n  const [searchMessage, setSearchMessage] = React.useState('');\n\n  const searchString = useInput(props.searchString, { isEmpty: true });\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (searchString.inputValid) {\n      setSearchMessage('Нужно ввести ключевое слово');\n    } else {\n      props.searchSubmit(searchString.value);\n    }\n  };\n\n  function searchForShortFilms() {\n    if (props.shortFilm) {\n      return props.setShortFilm(false);\n    }\n    return props.setShortFilm(true);\n  };\n\n  React.useEffect(() => {\n    if (!searchString.inputValid) {\n      setShowButton(true);\n    } else {\n      setShowButton(false);\n    }\n  }, [searchString.inputValid]);\n\n  return (\n    <form className=\"search-form\" onSubmit={handleSubmit}>\n      <div className=\"search-form__container\">\n        <label className=\"search-form__field search-form__field_search\">\n          <input className=\"search-form__input\" type=\"search\" placeholder=\"Фильм\" onChange={searchString.onChange} onFocus={searchString.onFocus} value={searchString.value} valid={searchString}></input>\n          {!showButton &&\n            <button className=\"search-form__button search-form__button_disabled\" type=\"submit\"></button>}\n          {showButton &&\n            <button className=\"search-form__button\" type=\"submit\"></button>}\n          {searchMessage &&\n            <span className=\"search-form__message\">{searchMessage}</span>\n          }\n        </label>\n        <label className=\"search-form__field search-form__field_checkbox\">\n          <p className=\"search-form__checkbox-name\">Короткометражки</p>\n          <input className=\"search-form__checkbox\" type=\"checkbox\" onChange={searchForShortFilms}></input>\n          <div className=\"search-form__switch\"></div>\n        </label>\n      </div>\n\n    </form>\n  );\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport './MoviesCard.css';\n\nfunction MoviesCard(props) {\n\n  const cardLike = (\n    `movies-card__like ${props.isLiked ? 'movies-card__like_active' : ''}`\n  );\n\n  function getTimeFromMins(min) {\n    let hours = Math.trunc(min / 60);\n    let minutes = min % 60;\n    if (hours > 0) {\n      return hours + 'ч ' + minutes + 'м';\n    }\n    return minutes + 'м';\n  };\n\n  function onClickImg() {\n    if (props.pageSavedMovies) {\n      return window.open(props.trailer);\n    }\n\n    window.open(props.trailerLink);\n  };\n\n  function handleLikeClick() {\n    if (props.isLiked) {\n      props.deleteMovie(props.id);\n\n    } else {\n      props.saveMovie(props);\n    }\n  };\n\n  function handleButtonDeleteClick() {\n    props.deleteMovie(props.movieId);\n  };\n\n  return (\n    <div className=\"movies-card\">\n      {!props.pageSavedMovies ?\n        <img className=\"movies-card__img\" src={`https://api.nomoreparties.co${props.image && props.image.url}`} onClick={onClickImg} alt=\"\"></img>\n        :\n        <img className=\"movies-card__img\" src={props.image} onClick={onClickImg} alt=\"\"></img>\n      }\n      <div className=\"movies-card__container_title-like\">\n        <h6 className=\"movies-card__title\">{props.nameRU}</h6>\n        {!props.pageSavedMovies ?\n          <button className={cardLike} onClick={handleLikeClick}></button>\n          :\n          <button className=\"movies-card__button-delete\" onClick={handleButtonDeleteClick}></button>}\n      </div>\n      <p className=\"movies-card__time\">{getTimeFromMins(props.duration)}</p>\n    </div>\n\n  );\n}\n\nexport default MoviesCard;\n","import React from 'react';\nimport './MoviesCardList.css';\nimport MoviesCard from '../MoviesCard/MoviesCard';\nimport Preloader from '../../Preloader/Preloader';\n\nfunction MoviesCardList(props) {\n\n  const moviesCardList = (\n    `movies-card-list ${props.savedMovies ? 'movies-card-list_saved' : ''}`\n  );\n\n  return (\n    <div className=\"movies-card-list__container\">\n      {props.preloader &&\n        <Preloader />}\n      {props.messageError &&\n      <span className=\"movies-card-list__message-error\">{props.messageError}</span>\n      }\n      <div className={moviesCardList}>\n        {!props.pageSavedMovies &&\n          props.movies.map(({ id, ...itemProps }) => <MoviesCard key={id} id={id} {...itemProps} saveMovie={props.saveMovie} deleteMovie={props.deleteMovie} />)\n        }\n        {props.pageSavedMovies &&\n          props.movies.map(({ _id, ...itemProps }) => <MoviesCard key={_id} id={_id} {...itemProps} saveMovie={props.saveMovie} deleteMovie={props.deleteMovie} pageSavedMovies={props.pageSavedMovies} />)\n        }\n      </div>\n      {props.showButtons &&\n        <button className=\"movies-card-list__button\" onClick={props.nextPageMovies}>Ещё</button>}\n    </div>\n  );\n}\n\nexport default MoviesCardList;\n","export const MOVIES_LOCAL_KEY = 'allMovies';\nexport const MOVIES_LOCAL_SEARCH = 'searchMovies';\nexport const SAVEDMOVIES_LOCAL_SEARCH = 'searchSavedMovies';\nexport const BASE_API_URL = process.env.BASE_URL || 'http://api.movies-explorer.antonmaryenkov.ru';\n","export function filterMovies(data, searchString, shortFilm, savedMovies) {\n\n  let movies = data.filter((el) => el.nameRU.toLowerCase().includes(searchString));\n  if (savedMovies) {\n    movies.forEach(item => {\n      item.isLiked = savedMovies.some(savedMovie => {\n        return item.id === savedMovie.movieId;\n      });\n    })\n  }\n  if (shortFilm) {\n    movies = movies.filter((el) => el.duration <= 40);\n  }\n  return movies;\n};\n","import React from 'react';\nimport './Movies.css';\nimport SearchForm from './SearchForm/SearchForm';\nimport MoviesCardList from './MoviesCardList/MoviesCardList';\nimport * as MoviesApi from '../../../utils/MoviesApi';\nimport * as constants from '../../../utils/constants';\nimport { filterMovies } from \"../../../utils/helpers\";\n\nfunction Movies(props) {\n  const [preloader, setPreloader] = React.useState(false);\n  const [messageError, setMessageError] = React.useState('');\n  const [moviesList, setMoviesList] = React.useState([]);\n\n  const [currentPage, setCurrentPage] = React.useState(0);\n\n  const [startCountMovies, setStartCountMovies] = React.useState(0);\n  const [countPerPage, setCountPerPage] = React.useState(0);\n\n  const [shortFilm, setShortFilm] = React.useState(false);\n\n  const [searchString, setSearchString] = React.useState('');\n\n  const [showButtons, setShowButtons] = React.useState(false);\n\n  React.useEffect(() => {\n    function addCards() {\n      if (window.innerWidth > 1100) {\n        setStartCountMovies(12);\n        setCountPerPage(4);\n      }\n      if (window.innerWidth <= 1100) {\n        setStartCountMovies(12);\n        setCountPerPage(3);\n      }\n      if (window.innerWidth <= 768) {\n        setStartCountMovies(8);\n        setCountPerPage(2);\n      }\n      if (window.innerWidth <= 425) {\n        setStartCountMovies(5);\n        setCountPerPage(2);\n      }\n    }\n\n    addCards();\n\n    let timerId;\n\n    function updateSize() {\n      if (!timerId) {\n        timerId = setTimeout(() => {\n          timerId = null;\n          addCards();\n        }, 2000);\n      }\n    };\n\n    window.addEventListener('resize', updateSize);\n\n    if (localStorage.getItem(constants.MOVIES_LOCAL_SEARCH)) {\n      setSearchString(localStorage.getItem(constants.MOVIES_LOCAL_SEARCH));\n    }\n\n    return () => {\n      clearTimeout(timerId);\n      window.removeEventListener('resize', updateSize);\n    }\n  }, []);\n\n  function nextPageMovies() {\n    if (moviesList.length > 0) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  function toggleShowButton(movies) {\n    if (startCountMovies + currentPage * countPerPage >= movies.length || movies.length === 0) {\n      setShowButtons(false);\n    } else {\n      setShowButtons(true);\n    }\n  };\n\n  React.useEffect(() => {\n    setMessageError('')\n    let movies = filterMovies(props.movies, searchString, shortFilm, props.savedMovies);\n    if (movies.length === 0) {\n      setMessageError('Ничего не найдено');\n    }\n    setMoviesList(movies);\n    toggleShowButton(movies);\n  }, [props.savedMovies, props.movies, shortFilm, searchString]);\n\n  React.useEffect(() => {\n\n    toggleShowButton(moviesList);\n\n  }, [currentPage]);\n\n  function onSearchSubmit(searchString) {\n    setMessageError('');\n    setPreloader(true);\n    if (!props.movies.length) {\n      MoviesApi.getMovies()\n        .then((res) => {\n          if (res.length === 0) {\n            return setMessageError('Ничего не найдено');\n          }\n          localStorage.setItem(constants.MOVIES_LOCAL_SEARCH, searchString);\n          localStorage.setItem(constants.MOVIES_LOCAL_KEY, JSON.stringify(res));\n          props.setMovies(res);\n          setSearchString(searchString);\n        })\n        .catch((err) => {\n          console.log(err);\n          setMessageError('Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз');\n        })\n        .finally(() => {\n          setPreloader(false);\n        })\n    } else {\n      let movies = filterMovies(props.movies, searchString, shortFilm, props.savedMovies);\n      localStorage.setItem(constants.MOVIES_LOCAL_SEARCH, searchString);\n      if (movies.length === 0) {\n        setMessageError('Ничего не найдено');\n      }\n      setMoviesList(movies);\n      setSearchString(searchString);\n      setPreloader(false);\n    }\n    setCurrentPage(0);\n  };\n\n  function saveMovie(data) {\n    setPreloader(true);\n    props.saveMovie(data)\n      .finally(() => {\n        setPreloader(false);\n      })\n  };\n\n  function deleteMovie(id) {\n    setPreloader(true);\n    props.deleteMovie(id)\n      .finally(() => {\n        setPreloader(false);\n      });\n  };\n\n  return (\n    <div className=\"movies\">\n      <SearchForm\n        searchSubmit={onSearchSubmit}\n        setShortFilm={setShortFilm}\n        shortFilm={shortFilm}\n        searchString={searchString} />\n      <MoviesCardList\n        pageSavedMovies={props.pageSavedMovies}\n        movies={moviesList.slice(0, startCountMovies + currentPage * countPerPage)}\n        saveMovie={saveMovie}\n        deleteMovie={deleteMovie}\n        nextPageMovies={nextPageMovies}\n        showButtons={showButtons}\n        messageError={messageError}\n        preloader={preloader} />\n    </div>\n  );\n}\n\nexport default Movies;\n","export const BASE_URL = 'https://api.nomoreparties.co';\n\nexport const getMovies = (token) => {\n  return fetch(`${BASE_URL}/beatfilm-movies`, {\n    method: \"GET\",\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n      return res.json();\n    });\n};\n","import React from 'react';\nimport '../Movies/Movies.css';\nimport SearchForm from '../Movies/SearchForm/SearchForm';\nimport MoviesCardList from '../Movies/MoviesCardList/MoviesCardList';\nimport * as constants from '../../../utils/constants';\nimport { filterMovies } from \"../../../utils/helpers\";\n\nfunction SavedMovies(props) {\n  const [messageError, setMessageError] = React.useState('');\n  const [preloader, setPreloader] = React.useState(false);\n  const [moviesList, setMoviesList] = React.useState([]);\n\n  const [shortFilm, setShortFilm] = React.useState(false);\n\n  const [searchString, setSearchString] = React.useState('');\n\n  React.useEffect(() => {\n    if (localStorage.getItem(constants.SAVEDMOVIES_LOCAL_SEARCH)) {\n      setSearchString(localStorage.getItem(constants.SAVEDMOVIES_LOCAL_SEARCH));\n    }\n  }, []);\n\n  React.useEffect(() => {\n    setMessageError('');\n    let movies = filterMovies(props.savedMovies, searchString, shortFilm);\n    if (movies.length === 0) {\n      setMessageError('Ничего не найдено');\n    }\n    setMoviesList(movies);\n  }, [shortFilm, props.savedMovies]);\n\n  function searchSubmit(searchString) {\n    setMessageError('');\n    let movies = filterMovies(props.savedMovies, searchString, shortFilm);\n    if (movies.length === 0) {\n      setMessageError('Ничего не найдено');\n    }\n    setMoviesList(movies);\n    localStorage.setItem(constants.SAVEDMOVIES_LOCAL_SEARCH, searchString);\n    setSearchString(searchString);\n  };\n\n  function deleteMovie(id) {\n    setPreloader(true);\n    props.deleteMovie(id)\n      .finally(() => {\n        setPreloader(false);\n      });\n  };\n\n  return (\n    <div className=\"movies\">\n      <SearchForm\n        searchSubmit={searchSubmit}\n        setShortFilm={setShortFilm}\n        shortFilm={shortFilm}\n        searchString={searchString} />\n        <MoviesCardList\n          pageSavedMovies={props.pageSavedMovies}\n          movies={moviesList}\n          deleteMovie={deleteMovie}\n          messageError={messageError}\n          preloader={preloader} />\n\n    </div>\n  );\n}\n\nexport default SavedMovies;\n","import React from 'react';\n\nexport const CurrentUser = React.createContext();\n","import React from 'react';\nimport './inputProfile.css';\n\nfunction inputProfile(props) {\n\n  return (\n    <label className=\"input-profile__field\">\n      <input className=\"input-profile__input\" type={props.type} value={props.value} onChange={props.onChange} minLength={props.minLength} maxLength={props.maxLength} placeholder={props.placeholder} readOnly={props.readOnly} disabled={props.isDisabled} required></input>\n      <h6 className=\"input-profile__name\">{props.name}</h6>\n      <span className=\"input-profile__error\">\n        {props.isDirty && props.valid.isEmpty && props.valid.messageError}\n        {!props.valid.isEmpty && props.valid.minLengthError && props.valid.messageError}\n        {!props.valid.isEmpty && props.valid.maxLengthError && props.valid.messageError}\n        {!props.valid.isEmpty && props.valid.emailError && props.valid.messageError}\n      </span>\n    </label>\n  );\n}\n\nexport default inputProfile;\n","import React from 'react';\nimport './Profile.css';\nimport { CurrentUser } from '../../../../contexts/CurrentUser';\nimport Form from '../Form';\nimport InputProfile from '../inputProfile/inputProfile';\nimport Preloader from '../../Preloader/Preloader';\nimport { useInput } from '../../../../utils/Validation/Validation';\n\nfunction Profile(props) {\n\n  const currentUser = React.useContext(CurrentUser);\n\n  const [preloader, setPreloader] = React.useState(false);\n  const [readOnly, setReadOnly] = React.useState(true);\n  const [showButton, setShowButton] = React.useState(false);\n  const [changeValue, setChangeValue] = React.useState(false);\n  const [formMessage, setFormMessage] = React.useState('');\n\n  const name = useInput(currentUser.name, ({ isEmpty: true, minLengthError: 2, maxLengthError: 30 }));\n  const email = useInput(currentUser.email, ({ isEmpty: true, emailError: false }));\n\n  function handleSubmit() {\n    setPreloader(true);\n    setShowButton(false);\n    props.Auth.addUserInfo(name.value, email.value)\n      .then((data) => {\n        props.setCurrentUser(data);\n        setReadOnly(true);\n        setFormMessage('Редактирование прошло успешно');\n      })\n      .catch((err) => {\n        setFormMessage('При обновлении профиля произошла ошибка');\n        console.log(err);\n      })\n      .finally(() => {\n        setPreloader(false);\n      });\n  };\n\n  React.useEffect(() => {\n    if (name.value === currentUser.name\n      && email.value === currentUser.email) {\n      return setShowButton(false);\n    }\n    if (!email.inputValid && !name.inputValid) {\n      setShowButton(true);\n    } else {\n      setShowButton(false);\n    }\n  }, [email.inputValid, name.inputValid, name.value, email.value]);\n\n  React.useEffect(() => {\n    if (name.isDirty || email.isDirty) {\n      setChangeValue(true);\n    }\n  }, [email.value, name.value]);\n\n  return (\n    <div className=\"profile\">\n      <div className=\"profile__form-container\">\n        <Form\n          title={`Привет, ${currentUser.name}!`}\n          buttonName=\"Редактировать\"\n          buttonNameSave=\"Сохранить\"\n          linkName=\"Выйти из аккаунта\"\n          linkRoute=\"/\"\n          loggedIn={props.loggedIn}\n          readOnly={readOnly}\n          setReadOnly={setReadOnly}\n          onSignOut={props.onSignOut}\n          onSubmit={handleSubmit}\n          showButton={showButton}\n          changeValue={changeValue}\n          formMessage={formMessage}\n          preloader={preloader}>\n          <InputProfile\n            name=\"Имя\"\n            minLength=\"2\"\n            maxLength=\"30\"\n            readOnly={readOnly}\n            setReadOnly={setReadOnly}\n            onChange={name.onChange}\n            onFocus={name.onFocus}\n            isDirty={name.isDirty}\n            value={name.value}\n            valid={name}\n            isDisabled={preloader} />\n          <div className=\"profile__border\"></div>\n          <InputProfile\n            name=\"Email\"\n            type=\"email\"\n            readOnly={readOnly}\n            setReadOnly={setReadOnly}\n            onChange={email.onChange}\n            onFocus={email.onFocus}\n            isDirty={email.isDirty}\n            value={email.value}\n            valid={email}\n            isDisabled={preloader} />\n        </Form>\n      </div>\n    </div>\n  );\n}\n\nexport default Profile;\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route path={props.path}>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;\n","import React, { useEffect } from 'react';\nimport '../AuthForm.css';\nimport Form from '../../Form';\nimport InputAuth from '../../InputAuth/InputAuth';\nimport logo from '../../../../../images/logo.svg';\nimport { useInput } from '../../../../../utils/Validation/Validation';\n\nfunction Login(props) {\n\n  const [preloader, setPreloader] = React.useState(false);\n  const [showButton, setShowButton] = React.useState(false);\n  const [formMessage, setFormMessage] = React.useState('');\n\n  function handleSubmit() {\n    setPreloader(true);\n    setShowButton(false);\n    props.onLogin(email.value, password.value)\n      .catch(() => {\n        setFormMessage('Неправильный логин или пароль');\n        setPreloader(false);\n        setShowButton(true);\n      })\n  };\n\n  const email = useInput('', ({ isEmpty: true, emailError: false }));\n  const password = useInput('', ({ isEmpty: true, minLengthError: 8 }));\n\n  useEffect(() => {\n    if (!email.inputValid && !password.inputValid) {\n      setShowButton(true);\n    } else {\n      setShowButton(false);\n    }\n  }, [email.inputValid, password.inputValid])\n\n  return (\n    <div className=\"auth\">\n      <div className=\"auth__form-container\">\n        <img className=\"form__logo\" src={logo} alt=\"логотип\"></img>\n        <Form\n          title=\"Рады видеть!\"\n          buttonName=\"Войти\"\n          linkText=\"Ещё не зарегистрированы?\"\n          linkName=\"Регистрация\"\n          linkRoute=\"/signup\"\n          onSubmit={handleSubmit}\n          showButton={showButton}\n          preloader={preloader}\n          formMessage={formMessage}>\n          <InputAuth\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"Email\"\n            onChange={email.onChange}\n            onFocus={email.onFocus}\n            isDirty={email.isDirty}\n            value={email.value}\n            valid={email} required\n            isDisabled={preloader} />\n          <InputAuth\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Пароль\"\n            onChange={password.onChange}\n            onFocus={password.onFocus}\n            isDirty={password.isDirty}\n            value={password.value}\n            valid={password} required\n            isDisabled={preloader} />\n        </Form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport './NotFound.css';\nimport { useHistory } from 'react-router-dom';\n\nfunction NotFound(props) {\n  const history = useHistory();\n\n  return (\n    <div className=\"not-found\">\n      <h1 className=\"not-found__title\">404</h1>\n      <p className=\"not-found__subtitle\">Страница не найдена</p>\n      <button className=\"not-found__button_back\" onClick={() => history.goBack()}>Назад</button>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import * as constants from '../utils/constants';\nexport const BASE_URL = constants.BASE_API_URL;\n\nlet token;\n\nexport function setToken(value) {\n  token = value;\n}\n\nexport const register = (name, email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ name, email, password })\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n      return res.json();\n    });\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n      return res.json();\n    })\n    .then((data) => {\n      if (data) {\n        localStorage.setItem('token', data.token);\n        setToken(data.token);\n        return data;\n      }\n    });\n};\n\nexport const getContent = () => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n      return res.json();\n    });\n};\n\nexport const addUserInfo = (name, email) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"PATCH\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify({ name, email }),\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n      return res.json();\n    });\n};\n\nexport const getMovies = () => {\n  return fetch(`${BASE_URL}/movies`, {\n    method: \"GET\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n      return res.json();\n    });\n};\n\nexport const postMovies = (data) => {\n  const {\n    country,\n    director,\n    duration,\n    year,\n    description,\n    image,\n    trailer,\n    movieId,\n    nameRU,\n    nameEN,\n    thumbnail,\n  } = data;\n  return fetch(`${BASE_URL}/movies`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      country,\n      director,\n      duration,\n      year,\n      description,\n      image,\n      trailer,\n      movieId,\n      nameRU,\n      nameEN,\n      thumbnail,\n    })\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n      return res.json();\n    })\n};\n\nexport const deleteMovies = (id) => {\n  return fetch(`${BASE_URL}/movies/${id}`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify({ id })\n  })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n      return res.json();\n    })\n};\n","import React from 'react';\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\nimport './App.css';\nimport Register from '../landing/Form/AuthForm/Register/Register';\nimport { withRouter } from \"react-router\";\nimport Header from '../landing/Header/Header';\nimport Footer from '../landing/Footer/Footer';\nimport Main from '../landing/Main/Main';\nimport Movies from '../landing/Movies/Movies';\nimport SavedMovies from '../landing/SavedMovies/SavedMovies';\nimport Profile from '../landing/Form/Profile/Profile';\nimport { CurrentUser } from '../../contexts/CurrentUser';\nimport ProtectedRoute from '../landing/ProtectedRoute/ProtectedRoute';\nimport Login from '../landing/Form/AuthForm/Login/Login';\nimport NotFound from '../landing/NotFound/NotFound';\nimport * as MainApi from '../../utils/MainApi';\nimport * as constants from '../../utils/constants';\nimport Preloader from '../landing/Preloader/Preloader';\n\nfunction App() {\n  const [pageSavedMovies, setPageSavedMovies] = React.useState(false);\n\n  const [currentUser, setCurrentUser] = React.useState({\n    name: 'Имя',\n    email: 'email',\n  });\n  const [movies, setMovies] = React.useState([]);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n\n  const [preloader, setPreloader] = React.useState(false);\n\n  const [isAuthCheck, setAuthCheck] = React.useState(false);\n\n  const history = useHistory();\n\n  function onSignOut() {\n    localStorage.removeItem('token');\n    localStorage.removeItem(constants.MOVIES_LOCAL_KEY);\n    localStorage.removeItem(constants.MOVIES_LOCAL_SEARCH);\n    localStorage.removeItem(constants.SAVEDMOVIES_LOCAL_SEARCH);\n    setMovies([]);\n    setSavedMovies([]);\n    MainApi.setToken('');\n    setLoggedIn(false);\n    history.push('/');\n  };\n\n  function tokenCheck() {\n\n    const jwt = localStorage.getItem('token');\n    if (jwt) {\n      MainApi.setToken(jwt);\n      MainApi.getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setCurrentUser(res);\n            setLoggedIn(true);\n          }\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          setAuthCheck(true);\n        });\n    } else {\n      setAuthCheck(true);\n    }\n  };\n\n  React.useEffect(tokenCheck, [loggedIn]);\n\n  const onRegister = (name, email, password) => {\n    return MainApi.register(name, email, password)\n      .then(() => {\n        return onLogin(email, password);\n      })\n      .catch(err => {\n        console.log(err);\n        return Promise.reject(err);\n      });\n  };\n\n  const onLogin = (email, password) => {\n    return MainApi.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          setLoggedIn(true);\n          history.push('/movies');\n        };\n      })\n      .catch(err => {\n        console.log(err);\n        return Promise.reject(err);\n      })\n      .finally(() => {\n        setAuthCheck(true);\n      });\n  };\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      if (localStorage.getItem(constants.MOVIES_LOCAL_KEY)) {\n\n        setMovies(JSON.parse(localStorage.getItem(constants.MOVIES_LOCAL_KEY)));\n      }\n      MainApi.getMovies()\n        .then(data => {\n          setSavedMovies(data);\n        }).catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [loggedIn]);\n\n\n\n  function saveMovie(data) {\n    const newMovie = {\n      country: data.country,\n      director: data.director,\n      duration: data.duration,\n      year: data.year,\n      description: data.description,\n      image: `https://api.nomoreparties.co${data.image.url}`,\n      trailer: data.trailerLink,\n      movieId: data.id,\n      nameRU: data.nameRU,\n      nameEN: data.nameEN,\n      thumbnail: `https://api.nomoreparties.co${data.image.formats.thumbnail.url}`,\n    };\n    return MainApi.postMovies(newMovie)\n      .then((res) => {\n        let newMovies = movies.map((item) => {\n          if (item.id === data.id) {\n            item.isLiked = true;\n          }\n          return item;\n        })\n        setMovies(newMovies);\n        savedMovies.push(res);\n        setSavedMovies(savedMovies.slice(0));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  function deleteMovie(id) {\n    let idDel;\n    savedMovies.some((movie) => {\n      if (movie.movieId === id) {\n        idDel = movie._id;\n        return true;\n      }\n    });\n    if (idDel) {\n      return MainApi.deleteMovies(idDel)\n        .then(() => {\n          setSavedMovies(savedMovies.filter((item) => item.movieId !== id));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    else {\n      return Promise.resolve()\n    };\n  };\n\n  return (\n    <div className=\"app\">\n      <Route exact path={['/saved-movies', '/movies', '/', '/profile']}>\n        <Header loggedIn={loggedIn} />\n      </Route>\n      {!isAuthCheck &&\n        <Preloader />\n      }\n      {isAuthCheck &&\n        <CurrentUser.Provider value={currentUser}>\n          <Switch>\n            <Route path=\"/signup\">\n              {loggedIn ? <Redirect to=\"/profile\" /> : <Register onRegister={onRegister} />}\n            </Route>\n            <Route path=\"/signin\">\n              {loggedIn ? <Redirect to=\"/profile\" /> : <Login onLogin={onLogin} />}\n            </Route>\n            <Route exact path=\"/\">\n              <Main />\n            </Route>\n            <Route path=\"/movies\">\n              <ProtectedRoute\n                path=\"/movies\"\n                loggedIn={loggedIn}\n                component={Movies}\n                pageSavedMovies={pageSavedMovies}// !!!!\n                loggedIn={loggedIn}\n                saveMovie={saveMovie}\n                deleteMovie={deleteMovie}\n                savedMovies={savedMovies}\n                movies={movies}\n                setMovies={setMovies}\n              />\n            </Route>\n            <Route path=\"/saved-movies\">\n              <ProtectedRoute path=\"/saved-movies\"\n                loggedIn={loggedIn}\n                component={SavedMovies}\n                pageSavedMovies={!pageSavedMovies}// !!!!\n                savedMovies={savedMovies}\n                deleteMovie={deleteMovie} />\n            </Route>\n            <Route path=\"/profile\">\n              <ProtectedRoute path=\"/profile\"\n                loggedIn={loggedIn}\n                component={Profile}\n                onSignOut={onSignOut}\n                Auth={MainApi}\n                setCurrentUser={setCurrentUser} />\n            </Route>\n            <Route path=\"*\">\n              <NotFound />\n            </Route>\n          </Switch>\n        </CurrentUser.Provider>\n      }\n      <Route exact path={['/saved-movies', '/movies', '/']}>\n        <Footer />\n      </Route>\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}